<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up Page</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        background-image: url("background-tree-book-wallpaper-preview.jpg");
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: #333;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .container {
        max-width: 400px;
        margin: 50px auto;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .login-form h2 {
        text-align: center;
        margin-bottom: 20px;
        color: #007bff;
        font-size: 24px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #fbfbfb;
      }

      .form-group input[type="text"],
      .form-group input[type="password"],
      .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box;
        font-size: 14px;
      }

      .form-group button[type="button"],
      .form-group button[type="submit"] {
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        background-color: #007bff;
        color: #fff;
        transition: background-color 0.3s;
        margin-top: 10px;
      }

      .form-group button[type="button"]:hover,
      .form-group button[type="submit"]:hover {
        background-color: #0056b3;
      }

      .google-signup {
        text-align: center;
        margin-top: 20px;
      }

      .google-signup p {
        margin: 0 0 10px 0;
        font-size: 14px;
      }

      .google-button {
        width: auto;
        padding: 10px 20px;
        background-color: #db4437;
        border: none;
        border-radius: 5px;
        color: white;
        cursor: pointer;
      }

      .google-button:hover {
        background-color: #c23321;
      }

      .btn-otp {
        margin-top: 10px;
        display: inline-block;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        background-color: #007bff;
        color: #fff;
        transition: background-color 0.3s;
        font-size: 14px;
      }

      .btn-otp:hover {
        background-color: #0056b3;
      }

      .btn-submit,
      .btn-google {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        background-color: #007bff;
        color: #fff;
        font-size: 16px;
        margin-top: 10px;
        transition: background-color 0.3s;
      }

      .btn-google {
        background-color: #db4437;
      }

      .btn-submit:hover,
      .btn-google:hover {
        background-color: #0056b3;
      }

      .btn-google:hover {
        background-color: #b33225;
      }

      .separator {
        text-align: center;
        margin: 20px 0;
        position: relative;
        font-size: 14px;
        color: #999;
      }

      .separator::before,
      .separator::after {
        content: "";
        position: absolute;
        top: 50%;
        width: 40%;
        height: 1px;
        background-color: #ddd;
      }

      .separator::before {
        left: 0;
      }

      .separator::after {
        right: 0;
      }

      .form-group select {
        appearance: none;
        background-image: url('data:image/svg+xml;utf8,<svg fill="%23000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M7 10l5 5 5-5H7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
        background-repeat: no-repeat;
        background-position-x: calc(100% - 10px);
        background-position-y: center;
      }

      @media (max-width: 600px) {
        .container {
          margin: 20px;
          padding: 15px;
        }

        .login-form h2 {
          font-size: 24px;
        }

        .form-group input[type="text"],
        .form-group input[type="password"],
        .form-group select {
          padding: 8px;
        }

        .form-group button[type="button"],
        .form-group button[type="submit"],
        .google-button {
          padding: 8px;
        }
      }
    </style>
  </head>
  <body>
    <section class="login-form">
      <div class="container">
        <h2>Sign Up</h2>
        <form action="insert.php" method="post" enctype="multipart/form-data">
          <div class="form-group">
            <label for="email">E Mail Id:</label>
            <input type="text" id="gmail-password" name="Email" required />
          </div>
          <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required />
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required />
          </div>
          <div class="form-group">
            <label for="course">Select Course:</label>
            <select id="course" name="course" required>
              <option value="">Select Course</option>
              <option value="cse">Computer Science & Engineering</option>
              <option value="ece">
                Electronics & Communication Engineering
              </option>
              <!-- Add more options for other courses -->
            </select>
          </div>
          <div class="form-group">
            <label for="face-capture">Face Image (for login):</label>
            <button type="button" id="capture-face-btn" class="btn-otp">Capture Face</button>
            <video id="webcam" width="320" height="240" autoplay style="display:none; margin-top: 10px;"></video>
            <canvas id="snapshot" width="320" height="240" style="display:none; margin-top: 10px;"></canvas>
            <div id="face-status" style="color: #fff; margin-top: 10px;"></div>
          </div>
          <button type="submit" class="btn-submit">Submit</button>
          <div class="separator">OR</div>
          <button type="button" class="btn-google" onclick="signUpWithGoogle()">
            Sign Up with Google
          </button>
        </form>
      </div>
    </section>

    <script>
      function sendOTP() {
        alert("OTP has been sent to your Gmail Id.");
      }

      function signUpWithGoogle() {
        // Simulate a Google Sign-Up process
        alert("Sign Up with Google feature coming soon!");
      }
    </script>
    <script>
    let stream = null;
    let capturedImageData = null;

    document.getElementById('capture-face-btn').onclick = async function() {
      const video = document.getElementById('webcam');
      const canvas = document.getElementById('snapshot');
      const statusDiv = document.getElementById('face-status');
      
      if (stream) {
        // If webcam is already on, capture the image
        canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
        capturedImageData = canvas.toDataURL('image/jpeg');
        statusDiv.textContent = 'Face captured!';
        stream.getTracks().forEach(track => track.stop());
        video.style.display = 'none';
        canvas.style.display = 'block';
        stream = null;
      } else {
        // Start webcam
        try {
          stream = await navigator.mediaDevices.getUserMedia({ video: true });
          video.srcObject = stream;
          video.style.display = 'block';
          canvas.style.display = 'none';
          statusDiv.textContent = 'Position your face and click "Capture Face" again';
        } catch (err) {
          statusDiv.textContent = 'Error accessing webcam: ' + err.message;
        }
      }
    };

    // Update form submission to include face data
    document.querySelector('form').onsubmit = function(e) {
      if (!capturedImageData) {
        e.preventDefault();
        alert('Please capture your face image before submitting.');
        return false;
      }
      
      // Add the captured image data to the form
      const hiddenInput = document.createElement('input');
      hiddenInput.type = 'hidden';
      hiddenInput.name = 'face_image';
      hiddenInput.value = capturedImageData;
      this.appendChild(hiddenInput);
      
      return true;
    };
    </script>
  </body>
</html>
